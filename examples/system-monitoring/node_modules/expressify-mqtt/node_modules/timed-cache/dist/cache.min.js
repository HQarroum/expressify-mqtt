!function(a,b){if("function"==typeof define&&define.amd)define(b);else if("undefined"!=typeof module&&module.exports)module.exports=b();else{var c=this,d=b(),e=c[a];d.noConflict=function(){return c[a]=e,d},c[a]=d}}("Cache",function(){var a={},b=function(a){return"object"==typeof a&&!!a},c=function(a,b){return null!==a&&Object.prototype.hasOwnProperty.call(a,b)},d=function(a){if(!b(a))return[];if(Object.keys)return Object.keys(a);var d=[];for(var e in a)c(a,e)&&d.push(e);return d},e=function(a){this.defaultTtl=a&&a.defaultTtl?a.defaultTtl:6e4},f=function(a){return b(a)?JSON.stringify(a):a};return e.prototype.put=function(b,c,d){var e=(d?d.ttl:void 0)||this.defaultTtl,g=(d?d.callback:void 0)||function(){},h=f(b),i=this,j=a[h];j&&clearTimeout(j.handle);var k=setTimeout(function(){i.remove(b)},e);a[h]={handle:k,data:c,callback:g}},e.prototype.get=function(b){var c=a[f(b)];if(c)return c.data},e.prototype.remove=function(b){var c=f(b),d=a[c];d&&(clearTimeout(d.handle),delete a[c],d.callback(b,d.data))},e.prototype.clear=function(){for(var b in a)c(a,b)&&clearTimeout(a[b].handle);a={}},e.prototype.size=function(){return d(a).length},e});